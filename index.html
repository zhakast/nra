
<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Zhanara's Birthday</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@400;600;700;800;900&display=swap" rel="stylesheet">

<style>
:root{
  --pink:#ff4f98;
  --rose:#ffb7d3;
  --soft:#fff4fa;
  --soft2:#ffe7f2;
  --stickerBorder: rgba(255,79,152,.75);
  --shadow: 0 28px 90px rgba(255,79,152,.18);
}

*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{
  font-family:Poppins,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  overflow:hidden;
  background:#000;
}

/* ===== Cover ===== */
.hero{
  position:fixed; inset:0;
  z-index:50;
  background:#000;
  cursor:pointer;
  transition:opacity .35s ease;
}
.hero img{
  width:100%; height:100%;
  object-fit:cover;
  filter:brightness(.84) contrast(1.03) saturate(1.05);
  transform:scale(1.02);
}
.tap{
  position:absolute; left:50%;
  bottom:calc(56px + env(safe-area-inset-bottom));
  transform:translateX(-50%);
  color:#fff;
  font-size:16px;
  letter-spacing:2px;
  padding:12px 16px;
  border-radius:999px;
  background:rgba(255,255,255,.14);
  border:1px solid rgba(255,255,255,.22);
  backdrop-filter:blur(10px);
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%,100%{opacity:.68; transform:translateX(-50%) translateY(0)}
  50%{opacity:1; transform:translateX(-50%) translateY(-3px)}
}

/* ===== Main invite (one scroll page) ===== */
.invite{
  position:fixed; inset:0;
  z-index:10;
  background:
    radial-gradient(1100px 700px at 70% 15%, rgba(255,79,152,.22), transparent 58%),
    radial-gradient(1000px 680px at 15% 85%, rgba(255,183,211,.42), transparent 58%),
    radial-gradient(800px 420px at 50% 45%, rgba(255,255,255,.55), transparent 60%),
    linear-gradient(135deg,var(--soft),var(--soft2));
  overflow:hidden;
}
.glow{
  position:absolute; inset:-80px; z-index:0;
  background:
    radial-gradient(520px 520px at 50% 55%, rgba(255,79,152,.14), transparent 70%),
    radial-gradient(520px 520px at 70% 30%, rgba(255,183,211,.22), transparent 70%),
    radial-gradient(520px 520px at 30% 20%, rgba(255,255,255,.45), transparent 72%);
  animation: drift 10s ease-in-out infinite alternate;
}
@keyframes drift { from{ transform:translateY(-8px)} to{ transform:translateY(8px)} }

/* sakura corners */
.sakura-corners{ position:absolute; inset:0; z-index:1; pointer-events:none; }
.sakura{
  position:absolute;
  width:min(72vw, 520px);
  opacity:.92;
  filter:saturate(1.08) contrast(1.02);
}
.sakura.tl{ top:-95px; left:-95px; }
.sakura.tr{ top:-95px; right:-95px; transform:scaleX(-1); }
.sakura.bl{ bottom:-95px; left:-95px; transform:scaleY(-1); }
.sakura.br{ bottom:-95px; right:-95px; transform:scale(-1); }

/* petals */
.petals-back, .petals-front{ position:absolute; inset:0; pointer-events:none; }
.petals-back{ z-index:2; opacity:.55; filter: blur(.3px); }
.petals-front{ z-index:8; opacity:.95; }

/* Scroll area */
.scroll{
  position:relative;
  z-index:5;
  height:100%;
  overflow:auto;
  -webkit-overflow-scrolling:touch;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  scroll-behavior:smooth;
}
.scroll::-webkit-scrollbar{ width:0; height:0; }

/* Sections */
.section{
  min-height: 100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 18px;
}

/* Smaller hint */
.hint{
  margin-top: 10px;
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:10px 12px;
  border-radius:999px;
  background: rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.22);
  backdrop-filter: blur(10px);
  color: rgba(30,30,30,.70);
  font-weight: 900;
  font-size: 12px;
  letter-spacing: .2px;
}
.hint span{
  color: rgba(255,79,152,.95);
  font-weight: 1000;
}

/* ===== 2-1-2 sticker layout that fills screen ===== */
.stickerPage{
  width:min(560px, 94vw);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap: 6px;
}

/* ‚úÖ –ò–ó–ú–ï–ù–ï–ù–û: —Å–±–ª–∏–∑–∏–ª–∏ —Ä—è–¥—ã –∏ —É–±—Ä–∞–ª–∏ –ª–∏—à–Ω—é—é –ø—É—Å—Ç–æ—Ç—É */
.stickerGrid{
  width:100%;
  max-width: 560px;
  height: min(72vh, 640px);
  display:grid;
  grid-template-columns: 1fr 1fr;

  /* –±—ã–ª–æ: 1fr 1.25fr 1fr */
  grid-template-rows: 1fr 1.08fr 1fr;

  /* –±—ã–ª–æ: gap 14px 14px */
  gap: 14px 8px;

  align-items:center;
  justify-items:center;
}

/* ‚úÖ –ò–ó–ú–ï–ù–ï–ù–û: –¥–æ–±–∞–≤–∏–ª–∏ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π Y-—Å–¥–≤–∏–≥ —á–µ—Ä–µ–∑ --y */
.stickerGrid .cell{
  display:flex;
  align-items:center;
  justify-content:center;

  transform: translateY(var(--y, 0px)) rotate(var(--rot));
  animation: floaty 3.6s ease-in-out infinite;
}

/* ‚úÖ –ò–ó–ú–ï–ù–ï–ù–û: –∞–Ω–∏–º–∞—Ü–∏—è —É—á–∏—Ç—ã–≤–∞–µ—Ç --y, —á—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ª–æ–º–∞–ª–æ—Å—å */
@keyframes floaty{
  0%,100%{ transform: translateY(var(--y, 0px)) rotate(var(--rot)); }
  50%{ transform: translateY(calc(var(--y, 0px) - 7px)) rotate(var(--rot)); }
}

.stickerGrid img{
  width: var(--w);
  max-width: 42vw;  /* important for small phones */
  height:auto;
  display:block;
  filter:
    drop-shadow(1px 0 0 var(--stickerBorder))
    drop-shadow(-1px 0 0 var(--stickerBorder))
    drop-shadow(0 1px 0 var(--stickerBorder))
    drop-shadow(0 -1px 0 var(--stickerBorder))
    drop-shadow(2px 0 0 rgba(255,183,211,.55))
    drop-shadow(-2px 0 0 rgba(255,183,211,.55))
    drop-shadow(0 2px 0 rgba(255,183,211,.55))
    drop-shadow(0 -2px 0 rgba(255,183,211,.55))
    drop-shadow(0 18px 32px rgba(0,0,0,.18));
}

/* placements: 2 top, 1 middle across 2 cols, 2 bottom */
.cell.a{ grid-column:1; grid-row:1; }
.cell.b{ grid-column:2; grid-row:1; }
.cell.c{ grid-column:1 / span 2; grid-row:2; } /* center big */
.cell.d{ 
  grid-column:1; 
  grid-row:3; 
  transform: translateY(-35px) rotate(var(--rot));}
.cell.e{ 
  grid-column:2; 
  grid-row:3; 
  transform: translateY(-35px) rotate(var(--rot));
}

/* ‚úÖ –ù–û–í–û–ï: –ø–æ–¥—Ç—è–Ω—É–ª–∏ —Ä—è–¥—ã –±–ª–∏–∂–µ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É (–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è –∏ —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É) */
.cell.a, .cell.b { --y: -10px; }  /* –≤–µ—Ä—Ö–Ω–∏–µ 2 —á—É—Ç—å –≤—ã—à–µ */
.cell.c { --y: -18px; }           /* —Å—Ä–µ–¥–Ω—é—é –ø–æ–¥—Ç—è–Ω—É—Ç—å –∫ –≤–µ—Ä—Ö–Ω–∏–º */
.cell.d, .cell.e { --y: -12px; }  /* –Ω–∏–∂–Ω–∏–µ –ø–æ–¥—Ç—è–Ω—É—Ç—å –∫ —Å—Ä–µ–¥–Ω–µ–π */

/* Center card */
.cardWrap{ width:100%; display:flex; justify-content:center; }
.card{
  width:min(520px, 92vw);
  background: rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.25);
  border-radius: 28px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  padding: 44px 22px 28px;
  position:relative;
  overflow:hidden;
}
.ribbon{
  position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(14px 14px at 86% 16%, rgba(255,183,211,.35), transparent 70%),
    radial-gradient(10px 10px at 82% 20%, rgba(255,79,152,.22), transparent 70%),
    radial-gradient(16px 16px at 18% 22%, rgba(255,183,211,.28), transparent 72%),
    radial-gradient(10px 10px at 22% 18%, rgba(255,79,152,.18), transparent 70%);
  opacity:.9;
}
.small{
  font-size:12px; letter-spacing:3px;
  color:rgba(255,79,152,.95);
  font-weight:900;
  text-transform:uppercase;
  text-align:center;
}
.big{
  margin-top:10px;
  font-size: clamp(30px, 7vw, 58px);
  font-weight:1000;
  color:rgba(255,79,152,1);
  letter-spacing:-.5px;
  line-height:1.02;
  text-align:center;
}
.script{
  font-family:"Great Vibes", cursive;
  font-size: clamp(44px, 10vw, 74px);
  color: rgba(40,40,40,.78);
  margin-top: 10px;
  text-align:center;
  text-shadow: 0 10px 22px rgba(255,79,152,.12);
}
.scriptPink{
  font-family:"Great Vibes", cursive;
  font-size: clamp(54px, 12vw, 96px);
  color: rgba(255,79,152,1);
  margin-top: 6px;
  text-align:center;
  text-shadow: 0 14px 34px rgba(255,79,152,.18);
}
.subtitle{
  margin-top:18px;
  font-size:12px;
  letter-spacing:3px;
  color: rgba(255,79,152,.9);
  font-weight:950;
  text-transform:uppercase;
  text-align:center;
}
.date{
  margin-top:10px;
  font-size:16px;
  color: rgba(255,79,152,1);
  font-weight:1000;
  text-align:center;
}
.footer{
  margin-top:12px;
  font-style:italic;
  color: rgba(30,30,30,.55);
  font-weight:700;
  text-align:center;
}
.nowplaying{
  margin:16px auto 0;
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:12px 14px;
  border-radius:999px;
  background: rgba(255,255,255,.20);
  border:1px solid rgba(255,255,255,.25);
  color: rgba(30,30,30,.70);
  font-weight:900;
  font-size:13px;
  text-align:center;
}
.note{opacity:.8}
.btns{
  margin-top:18px;
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
.btn{
  padding:12px 16px;
  border:none;
  border-radius:16px;
  background: linear-gradient(135deg, rgba(255,79,152,1), rgba(255,183,211,1));
  color:#fff;
  font-weight:1000;
  cursor:pointer;
  box-shadow: 0 14px 30px rgba(255,79,152,.18);
}
.btn2{
  padding:12px 16px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.28);
  background: rgba(255,255,255,.20);
  color: rgba(30,30,30,.75);
  font-weight:950;
  cursor:pointer;
}

/* Sound button */
.sound{
  position:fixed;
  top: calc(14px + env(safe-area-inset-top));
  right: 14px;
  z-index:20;
  border:1px solid rgba(255,255,255,.25);
  background:rgba(255,255,255,.20);
  backdrop-filter: blur(10px);
  border-radius:14px;
  padding:10px 12px;
  font-weight:950;
  cursor:pointer;
  color: rgba(30,30,30,.78);
}
</style>
</head>

<body>

<!-- COVER -->
<div class="hero" id="hero">
  <img src="myphoto.jpg" alt="Zhanara">
  <div class="tap">Tap to Open ‚ú®</div>
</div>

<!-- INVITE -->
<div class="invite" id="invite">
  <div class="glow"></div>

  <!-- sakura corners -->
  <div class="sakura-corners" aria-hidden="true">
    <!-- watercolor SVG x4 -->
    <svg class="sakura tl" viewBox="0 0 600 600">
      <defs>
        <radialGradient id="g1" cx="35%" cy="35%" r="65%">
          <stop offset="0%" stop-color="rgba(255,255,255,.95)"/>
          <stop offset="55%" stop-color="rgba(255,183,211,.60)"/>
          <stop offset="100%" stop-color="rgba(255,79,152,.10)"/>
        </radialGradient>
      </defs>
      <g opacity=".95">
        <circle cx="120" cy="130" r="170" fill="url(#g1)"/>
        <circle cx="210" cy="160" r="120" fill="rgba(255,183,211,.45)"/>
        <circle cx="140" cy="240" r="90" fill="rgba(255,79,152,.18)"/>
        <circle cx="260" cy="230" r="80" fill="rgba(255,183,211,.35)"/>
        <circle cx="180" cy="300" r="70" fill="rgba(255,79,152,.12)"/>
        <circle cx="310" cy="140" r="70" fill="rgba(255,183,211,.28)"/>
        <circle cx="330" cy="220" r="60" fill="rgba(255,79,152,.10)"/>
        <circle cx="260" cy="320" r="60" fill="rgba(255,183,211,.22)"/>
      </g>
    </svg>
    <svg class="sakura tr" viewBox="0 0 600 600">
      <defs>
        <radialGradient id="g2" cx="35%" cy="35%" r="65%">
          <stop offset="0%" stop-color="rgba(255,255,255,.95)"/>
          <stop offset="55%" stop-color="rgba(255,183,211,.60)"/>
          <stop offset="100%" stop-color="rgba(255,79,152,.10)"/>
        </radialGradient>
      </defs>
      <g opacity=".95">
        <circle cx="120" cy="130" r="170" fill="url(#g2)"/>
        <circle cx="210" cy="160" r="120" fill="rgba(255,183,211,.45)"/>
        <circle cx="140" cy="240" r="90" fill="rgba(255,79,152,.18)"/>
        <circle cx="260" cy="230" r="80" fill="rgba(255,183,211,.35)"/>
        <circle cx="180" cy="300" r="70" fill="rgba(255,79,152,.12)"/>
        <circle cx="310" cy="140" r="70" fill="rgba(255,183,211,.28)"/>
        <circle cx="330" cy="220" r="60" fill="rgba(255,79,152,.10)"/>
        <circle cx="260" cy="320" r="60" fill="rgba(255,183,211,.22)"/>
      </g>
    </svg>
    <svg class="sakura bl" viewBox="0 0 600 600">
      <defs>
        <radialGradient id="g3" cx="35%" cy="35%" r="65%">
          <stop offset="0%" stop-color="rgba(255,255,255,.95)"/>
          <stop offset="55%" stop-color="rgba(255,183,211,.60)"/>
          <stop offset="100%" stop-color="rgba(255,79,152,.10)"/>
        </radialGradient>
      </defs>
      <g opacity=".95">
        <circle cx="120" cy="130" r="170" fill="url(#g3)"/>
        <circle cx="210" cy="160" r="120" fill="rgba(255,183,211,.45)"/>
        <circle cx="140" cy="240" r="90" fill="rgba(255,79,152,.18)"/>
        <circle cx="260" cy="230" r="80" fill="rgba(255,183,211,.35)"/>
        <circle cx="180" cy="300" r="70" fill="rgba(255,79,152,.12)"/>
        <circle cx="310" cy="140" r="70" fill="rgba(255,183,211,.28)"/>
        <circle cx="330" cy="220" r="60" fill="rgba(255,79,152,.10)"/>
        <circle cx="260" cy="320" r="60" fill="rgba(255,183,211,.22)"/>
      </g>
    </svg>
    <svg class="sakura br" viewBox="0 0 600 600">
      <defs>
        <radialGradient id="g4" cx="35%" cy="35%" r="65%">
          <stop offset="0%" stop-color="rgba(255,255,255,.95)"/>
          <stop offset="55%" stop-color="rgba(255,183,211,.60)"/>
          <stop offset="100%" stop-color="rgba(255,79,152,.10)"/>
        </radialGradient>
      </defs>
      <g opacity=".95">
        <circle cx="120" cy="130" r="170" fill="url(#g4)"/>
        <circle cx="210" cy="160" r="120" fill="rgba(255,183,211,.45)"/>
        <circle cx="140" cy="240" r="90" fill="rgba(255,79,152,.18)"/>
        <circle cx="260" cy="230" r="80" fill="rgba(255,183,211,.35)"/>
        <circle cx="180" cy="300" r="70" fill="rgba(255,79,152,.12)"/>
        <circle cx="310" cy="140" r="70" fill="rgba(255,183,211,.28)"/>
        <circle cx="330" cy="220" r="60" fill="rgba(255,79,152,.10)"/>
        <circle cx="260" cy="320" r="60" fill="rgba(255,183,211,.22)"/>
      </g>
    </svg>
  </div>

  <div class="petals-back" id="petalsBack"></div>
  <div class="petals-front" id="petalsFront"></div>

  <button class="sound" id="soundBtn">üîä Sound</button>

  <div class="scroll" id="scrollArea">

    <!-- Top photos (2-1-2) -->
    <section class="section" id="topSection">
      <div class="stickerPage">
        <div class="stickerGrid" id="topGrid"></div>
        <div class="hint"><span>Auto scroll</span> moving up (swipe anytime)</div>
      </div>
    </section>

    <!-- Middle text -->
    <section class="section" id="middleSection">
      <div class="cardWrap">
        <div class="card">
          <div class="ribbon"></div>

          <div class="small">YOU‚ÄôRE</div>
          <div class="big">INVITED TO</div>

          <div class="script">Zhanara‚Äôs</div>
          <div class="scriptPink">Birthday Party</div>

          <div class="subtitle">WILL BE HELD ON</div>
          <div class="date">Thursday, March 5, 2026</div>

          <div class="footer">A Reception for My Lovelies ü§ç</div>

          <div class="nowplaying">
            <span class="note">‚ô™</span>
            <span>Now playing: Jeremih ‚Äî Birthday Sex</span>
          </div>

          <div class="btns">
            <button class="btn" id="rsvpBtn">RSVP üíå</button>
            <button class="btn2" id="songBtn">Open Song</button>
            <button class="btn2" id="copyBtn">Copy Details</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Bottom photos (2-1-2) -->
    <section class="section" id="bottomSection">
      <div class="stickerPage">
        <div class="stickerGrid" id="bottomGrid"></div>
        <div class="hint" style="opacity:.85"><span>Tip</span> swipe ‚Üë / ‚Üì ‚Äî auto continues</div>
      </div>
    </section>

  </div>
</div>

<audio id="bgMusic" src="Jeremih - Birthday Sex.mp3" preload="auto" loop></audio>

<script>
/* links */
const LINKS = {
  rsvp: "https://instagram.com/",
  song: "https://open.spotify.com/"
};

/* files */
const STICKERS = [
  "p1.png","p2.png","p3.png","p4.png","p5.png",
  "p6.png","p7.png","p8.png","p9.png","p10.png",
];

const hero = document.getElementById("hero");
const scrollArea = document.getElementById("scrollArea");
const music = document.getElementById("bgMusic");
const soundBtn = document.getElementById("soundBtn");

const topGrid = document.getElementById("topGrid");
const bottomGrid = document.getElementById("bottomGrid");

let soundOn = true;

/* ---- build 2-1-2 grid (5 photos) ---- */
function mountGrid(gridEl, files){
  gridEl.innerHTML = "";

  // bigger sizes so it fills screen nicely
  // a,b,d,e are big; c (center) is biggest
  const W = {
    a: "36vw",
    b: "36vw",
    c: "52vw",
    d: "36vw",
    e: "36vw",
  };

  const rots = {
    a: "-10deg",
    b: "9deg",
    c: "-5deg",
    d: "7deg",
    e: "-8deg",
  };

  const classes = ["a","b","c","d","e"];

  classes.forEach((cls, i)=>{
    const file = files[i];
    const cell = document.createElement("div");
    cell.className = `cell ${cls}`;
    cell.style.setProperty("--rot", rots[cls]);

    const img = document.createElement("img");
    img.src = file;
    img.alt = "Sticker";
    img.style.setProperty("--w", W[cls]);

    cell.appendChild(img);
    gridEl.appendChild(cell);
  });
}

/* ---- music: start after first tap (iPhone rule) ---- */
function tryPlayMusic(){
  music.volume = 0.85;
  music.muted = false;
  const p = music.play();
  if(p && typeof p.catch === "function"){
    p.catch(()=> { soundBtn.textContent = "üîá Tap Sound"; });
  }
}
soundBtn.addEventListener("click", ()=>{
  soundOn = !soundOn;
  if(soundOn){ soundBtn.textContent = "üîä Sound"; tryPlayMusic(); }
  else{ soundBtn.textContent = "üîá Muted"; music.pause(); }
});

/* ---- open ---- */
hero.addEventListener("click", ()=>{
  hero.style.opacity = "0";
  setTimeout(()=>{
    hero.style.display = "none";

    // top uses first 5, bottom uses last 5
    mountGrid(topGrid, STICKERS.slice(0,5));
    mountGrid(bottomGrid, STICKERS.slice(5,10));

    startPetals();
    tryPlayMusic();
    startAutoScroll();
  }, 220);
});

/* buttons */
document.getElementById("rsvpBtn").addEventListener("click", ()=> window.open(LINKS.rsvp, "_blank"));
document.getElementById("songBtn").addEventListener("click", ()=> window.open(LINKS.song, "_blank"));
document.getElementById("copyBtn").addEventListener("click", async ()=>{
  const text =
`You're invited to Zhanara‚Äôs Birthday Party üéÇ
Thursday, March 5, 2026
A Reception for My Lovelies ü§ç

RSVP: ${LINKS.rsvp}
Song: ${LINKS.song}`;
  try{ await navigator.clipboard.writeText(text); alert("Copied ‚úÖ"); }
  catch{ alert(text); }
});

/* ---- auto scroll (FASTER) ---- */
let rafId = null;
let lastTs = null;
let userInteractingUntil = 0;

// ‚úÖ faster now
const AUTO_SPEED = 45; // px/sec (was slow before)

function startAutoScroll(){
  // start from bottom and move UP
  scrollArea.scrollTop = scrollArea.scrollHeight;
  cancelAutoScroll();
  lastTs = null;
  rafId = requestAnimationFrame(tick);
}
function cancelAutoScroll(){
  if(rafId){ cancelAnimationFrame(rafId); rafId = null; }
}
function tick(ts){
  if(!lastTs) lastTs = ts;
  const dt = (ts - lastTs) / 1000;
  lastTs = ts;

  if(Date.now() < userInteractingUntil){
    rafId = requestAnimationFrame(tick);
    return;
  }

  const delta = AUTO_SPEED * dt;
  scrollArea.scrollTop = Math.max(0, scrollArea.scrollTop - delta);

  if(scrollArea.scrollTop <= 0){
    cancelAutoScroll();
    return;
  }
  rafId = requestAnimationFrame(tick);
}
function pauseAuto(ms=1600){
  userInteractingUntil = Date.now() + ms;
}
scrollArea.addEventListener("touchstart", ()=> pauseAuto(2400), {passive:true});
scrollArea.addEventListener("touchmove",  ()=> pauseAuto(2400), {passive:true});
scrollArea.addEventListener("wheel",      ()=> pauseAuto(2000), {passive:true});
scrollArea.addEventListener("scroll",     ()=> pauseAuto(2000), {passive:true});

/* ---- petals (same, a lot) ---- */
const backLayer = document.getElementById("petalsBack");
const frontLayer = document.getElementById("petalsFront");
let petalsIntervalBack = null;
let petalsIntervalFront = null;

function makePetal(layer, sizeMin, sizeMax, opacityMin, opacityMax, driftMax, durMin, durMax, blurPx){
  const p = document.createElement("div");
  const size = sizeMin + Math.random()*(sizeMax - sizeMin);
  const startX = Math.random()*window.innerWidth;
  const drift = (Math.random()*driftMax*2 - driftMax);
  const duration = durMin + Math.random()*(durMax - durMin);
  const rotate = (Math.random()*540 - 270);

  p.style.position="absolute";
  p.style.left = startX + "px";
  p.style.top = "-40px";
  p.style.width = size + "px";
  p.style.height = (size*0.72) + "px";
  p.style.borderRadius = "100% 0 100% 0";
  p.style.opacity = (opacityMin + Math.random()*(opacityMax - opacityMin)).toFixed(2);
  p.style.background =
    "radial-gradient(circle at 30% 30%, rgba(255,255,255,.75), rgba(255,183,211,.98))";
  p.style.filter = `blur(${blurPx}px)`;
  p.style.transform = `rotate(${rotate}deg)`;

  layer.appendChild(p);
  const endY = window.innerHeight + 140;

  p.animate([
    { transform:`translate(0px,0px) rotate(${rotate}deg)` },
    { transform:`translate(${drift}px,${endY}px) rotate(${rotate+280}deg)` }
  ], { duration, easing:"cubic-bezier(.2,.7,.2,1)", fill:"forwards" });

  setTimeout(()=> p.remove(), duration + 120);
}

function startPetals(){
  if(petalsIntervalBack || petalsIntervalFront) return;

  for(let i=0;i<110;i++){
    setTimeout(()=> makePetal(backLayer, 10, 18, .12, .34, 90, 7600, 12000, 0.7), i*28);
    setTimeout(()=> makePetal(frontLayer, 14, 46, .35, .98, 230, 4200, 9800, 0.0), i*20);
  }

  petalsIntervalBack = setInterval(()=> {
    for(let i=0;i<4;i++) makePetal(backLayer, 10, 18, .12, .34, 110, 8200, 12500, 0.8);
  }, 140);

  petalsIntervalFront = setInterval(()=> {
    for(let i=0;i<6;i++) makePetal(frontLayer, 14, 48, .35, .98, 240, 4200, 9800, 0.0);
  }, 120);
}
</script>

</body>
</html>
